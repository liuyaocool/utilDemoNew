<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <title>media</title>
    <style>
        html, body{
            width: 100%;
            height: 100%;
            margin: 0px;
        }
        img. video{
            max-width: 300px;
            min-width: 300px;

        }
        img{
            border: green solid 1px;
        }
    </style>
</head>

<body>

<span>img</span>
<img src="" id="imgShow"><br>

<span>video</span>
<video id="videoShow" src="" webkit-playsinline="true" preload="auto" controls>
    <source id="videoSource"  type="video/*">
    您的浏览器不支持该视频格式。
</video>

<br><input type="file" id="file" accept="*" name="file"/>

<script src="../../static/js/jquery-1.12.2.min.js"></script>
<script src="../../static/js/base.js"></script>
<script type="text/javascript">

    //选择图片，预览上传图片
    $(document).on('change','#file',function(){
        var type = getFileType("file");
        var objURL = getObjectURL("file");
        switch (type){
            case "jpg":case "png":
                $("#imgShow").attr("src", objURL);
                break;
            case "mp4":
                $("#videoShow").attr("src", objURL);
                break;
        }
        $(this).val("");
    });
</script>
</body>

</html>